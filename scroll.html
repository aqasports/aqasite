<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Endless Flow â€” Storm with Center Spot</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    html,body {
      height:100%;
      margin:0;
      background:#000;
      overflow:hidden;
    }
    .scroller {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    .logo {
      position: absolute;
      top: 100vh;
      will-change: transform, opacity;
      pointer-events: none;
      z-index: 1;
    }
    .logo img {
      display: block;
      height: auto;
      user-select: none;
      pointer-events: none;
      transform-origin: center center;
      -webkit-user-drag: none;
    }
    @keyframes rise {
      from { transform: translateY(0); }
      to   { transform: translateY(-140vh); }
    }

    /* Top + bottom fade */
    .fadeOverlay {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 5;
      background:
        linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0) 40%),
        linear-gradient(to top,   rgba(0,0,0,1) 0%, rgba(0,0,0,0) 40%);
      background-repeat: no-repeat;
      background-size: 100% 40%, 100% 40%;
      background-position: top, bottom;
    }

    /* Outer vignette */
    .vignette {
      position: fixed;
      inset: 0;
      z-index: 3;
      pointer-events: none;
      background: radial-gradient(
        ellipse at center,
        rgba(255,255,255,0) 0%,
        rgba(0,0,0,0.2) 50%,
        rgba(0,0,0,0.6) 80%,
        rgba(0,0,0,0.85) 100%
      );
      mix-blend-mode: multiply;
      opacity: 0.9;
    }

    /* Central dark spot */
 .center-spot {
  position: fixed;
  top: 50%;
  left: 50%;
  width: 120vw;   /* oversized so edges are outside screen */
  height: 120vh;
  transform: translate(-50%, -50%);
  pointer-events: none;
  z-index: 6;
  background: radial-gradient(
    circle at center,
    rgba(0,0,0,1) 0%,      /* solid black middle */
    rgba(0,0,0,0.9) 20%,   /* still very dark */
    rgba(0,0,0,0.6) 50%,   /* softer */
    rgba(0,0,0,0.3) 75%,   /* nearly gone */
    rgba(0,0,0,0) 100%     /* completely invisible at edge */
  );
}
@media (max-width: 768px) {
  .vignette {
    opacity: 0.6; /* was 0.9 */
  }
  .center-spot {
    opacity: 0.8; /* softer dark hole */
  }
}
  </style>
</head>
<body>
  <div class="scroller" id="scroller"></div>
  <div class="vignette"></div>
  <div class="fadeOverlay"></div>
  <div class="center-spot"></div> <!-- New dark shadow in middle -->

<script>
  // CONFIG
  let SIZES = [60, 80, 100, 140, 180, 220];
  const MIN_DURATION = 10;
  const MAX_DURATION = 22;
  let MIN_SPAWN_MS = 80;
  let MAX_SPAWN_MS = 180;
  const MIN_OPACITY = 0.25;
  const MAX_OPACITY = 1.0;
  const UPSIDE_DOWN_CHANCE = 0.5;

  const LANES = 14;
  const laneLastY = new Array(LANES).fill(-9999);

  const scroller = document.getElementById('scroller');

  function rand(min, max) { return Math.random() * (max - min) + min; }
  function randInt(min, max) { return Math.floor(rand(min, max + 1)); }

  function spawnLogo(yOffset = 0) {
    const wrap = document.createElement('div');
    wrap.className = 'logo';

    const img = document.createElement('img');
    img.src = 'a.png';
    img.alt = '';

    const size = SIZES[Math.floor(Math.random() * SIZES.length)];
    img.style.width = size + 'px';

    let opacity = (MIN_OPACITY + Math.random() * (MAX_OPACITY - MIN_OPACITY));
    opacity = +opacity.toFixed(2);
    img.style.opacity = opacity;

    if (Math.random() < UPSIDE_DOWN_CHANCE) {
      img.style.transform = 'rotate(180deg)';
    }

    let left;
    if (opacity < 0.95) {
      let lane = Math.floor(Math.random() * LANES);
      const laneWidth = window.innerWidth / LANES;
      left = laneWidth * lane + (laneWidth - size) / 2;

      const nowY = window.innerHeight - yOffset;
      if (nowY - laneLastY[lane] < size * 1.3) {
        wrap.remove();
        return;
      }
      laneLastY[lane] = nowY;
    } else {
      const maxLeft = Math.max(0, window.innerWidth - size);
      left = Math.random() * maxLeft;
    }

    wrap.style.left = Math.round(left) + 'px';
    wrap.style.top = (window.innerHeight - yOffset) + 'px';

    wrap.appendChild(img);
    scroller.appendChild(wrap);

    const duration = rand(MIN_DURATION, MAX_DURATION).toFixed(2) + 's';
    wrap.style.animation = `rise ${duration} linear forwards`;

    wrap.addEventListener('animationend', () => wrap.remove(), { once: true });
  }

  function prefill(count = 400) {
    for (let i = 0; i < count; i++) {
      const yOffset = Math.random() * window.innerHeight;
      spawnLogo(yOffset);
    }
  }

  function loopSpawn() {
    const burst = randInt(3, 4);
    for (let i = 0; i < burst; i++) spawnLogo();
    const delay = randInt(MIN_SPAWN_MS, MAX_SPAWN_MS);
    setTimeout(loopSpawn, delay);
  }

  // ---- Mobile adjustments ----
  let PREFILL_COUNT = 400;
  if (window.innerWidth < 768) {
    PREFILL_COUNT = 150;        // fewer at start
    MIN_SPAWN_MS = 200;         // slower spawn
    MAX_SPAWN_MS = 400;
    SIZES = [40, 60, 80, 100];  // smaller logos
  }

  prefill(PREFILL_COUNT);
  loopSpawn();
</script>

</body>
</html>
